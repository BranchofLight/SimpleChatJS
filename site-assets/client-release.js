$(document).ready(function(){var a=io();$("form").on("submit",function(b){var c=$("#msg-box"),d=function(){var a=c.val();for(var b in a)if(" "!==a[b])return!0;return!1};d()&&(a.emit("msg-sent",c.val()),console.log("Sent message: "+c.val()),addMessage(c.val())),c.val(""),b.preventDefault()}),a.on("msg-sent",function(a){console.log("Received message: "+a),addMessage(a)})});var addMessage=function(a){a=sanitizeMsg(a),$("#message-area").append("<li>"+a+"</li>"),$("#message-area").animate({scrollTop:$("#message-area").prop("scrollHeight")})},sanitizeMsg=function(a){var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return console.log("Sanitizing: "+a),a=String(a.replace(/[&<>"'`=\/]/g,function(a){return b[a]})),console.log("Sanitized: "+a),a};